<div class="suppliers-container" style="display: flex; flex-wrap: wrap; gap: 15px;">
  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 d-flex"
       style="flex: 0 0 calc(50% - 15px); margin-bottom: 15px;"
       *ngFor="let supplier of suppliers">
    <div class="card-body">
      <div class="example-button-container" style="display: flex; justify-content: flex-end;">
        <button mat-icon-button class="btn" *ngIf="!supplier.editing" (click)="edit(supplier)" style="color: #e7c633;">
          <mat-icon>create</mat-icon>
        </button>

        <button mat-icon-button class="btn" *ngIf="supplier.editing" (click)="save(supplier)" style="color: #e7c633;"
                [disabled]="!supplier.editCuit || !supplier.editBusinessName || !supplier.editEmail || !supplier.editPhone">
          <mat-icon>save_alt</mat-icon>
        </button>

        <button mat-icon-button class="btn" *ngIf="!supplier.editing" (click)="delete(supplier)" style="color: #f76666;">
          <mat-icon>delete</mat-icon>
        </button>
      </div>

      <div *ngIf="supplier.editing">
        <div class="form-group">
          <label for="cuit">Cuit: </label>
          <input type="text" class="form-control" id="cuit"
                 [(ngModel)]="supplier.editCuit" name="cuit" required pattern="^[0-9]{11}$" #cuitInput="ngModel"
                 [ngClass]="{ 'is-invalid': cuitInput.invalid && cuitInput.touched }" />
          <div *ngIf="cuitInput.invalid && cuitInput.touched" class="text-danger">
            <small *ngIf="cuitInput.errors?.['required']">El CUIT es obligatorio.</small>
            <small *ngIf="cuitInput.errors?.['pattern']">Debe tener exactamente 11 números.</small>
          </div>
        </div>
      </div>

      <div *ngIf="!supplier.editing">
        <h2 class="card-text" style="font-family: 'Quicksand', sans-serif;">CUIT: {{ supplier.cuit }}</h2>
      </div>

      <div *ngIf="supplier.editing">
        <div class="form-group">
          <label for="businessName">Nombre: </label>
          <input type="text" class="form-control" id="businessName"
                 [(ngModel)]="supplier.editBusinessName" name="businessName" required #nameInput="ngModel"
                 [ngClass]="{ 'is-invalid': nameInput.invalid && nameInput.touched }" />
          <div *ngIf="nameInput.invalid && nameInput.touched" class="text-danger">
            <small>El nombre es obligatorio.</small>
          </div>
        </div>
      </div>

      <div *ngIf="!supplier.editing">
        <h2 class="card-text" style="font-family: 'Quicksand', sans-serif;">Nombre: {{ supplier.businessName }}</h2>
      </div>

      <div *ngIf="supplier.editing">
      <div class="form-group">
        <label for="email">Email: </label>
        <input type="email" class="form-control" id="email"
              [(ngModel)]="supplier.editEmail" name="email" required email
              #emailInput="ngModel"
              [ngClass]="{ 'is-invalid': emailInput.invalid && emailInput.touched }" />
        <div *ngIf="emailInput.invalid && emailInput.touched" class="text-danger">
          <small *ngIf="emailInput.errors?.['required']">El email es obligatorio.</small>
          <small *ngIf="emailInput.errors?.['email']">El email debe tener un formato válido.</small>
        </div>
      </div>
    </div>


      <div *ngIf="!supplier.editing">
        <h2 class="card-text" style="font-family: 'Quicksand', sans-serif;">Email: {{ supplier.email }}</h2>
      </div>

      <div *ngIf="supplier.editing">
        <div class="form-group">
          <label for="phone">Teléfono: </label>
          <input type="text" class="form-control" id="phone"
                 [(ngModel)]="supplier.editPhone" name="phone" required #phoneInput="ngModel"
                 [ngClass]="{ 'is-invalid': phoneInput.invalid && phoneInput.touched }" />
          <div *ngIf="phoneInput.invalid && phoneInput.touched" class="text-danger">
            <small>El teléfono es obligatorio.</small>
          </div>
        </div>
      </div>

      <div *ngIf="!supplier.editing">
        <h2 class="card-text" style="font-family: 'Quicksand', sans-serif;">Teléfono: {{ supplier.phone }}</h2>
      </div>
    </div>
  </div>
</div>
